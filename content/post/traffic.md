# RVIZ
在每一个运行周期内，会更新每一个agent的状态（新增或删除、更新位置和速度、碰撞检测）

## 新增或删除
1. agent数量小于设定数量，初始化agent（ID、local_map_server），大于设定数量，删除多余的agent
2. 更新agent
   1. 若状态为INVALID，初始化agent在本车所在路段的某一车道的某一位置
   2. 根据当前agent位置更新local_map_state
   3. 更新速度
      1. 若发生碰撞，速度设为零
      2. 根据agent与本车朝向角更新agent的twist
      3. 若与本车距离过近，减速
   4. 更新位置
      1. 根据时间间隔、当前速度、行进方向（由local_map决定）和键盘控制偏移更新位置
      2. 处理键盘换道控制指令
      3. 确保agent在车道中线行驶
   5. 与本车距离过远，设为INVALID
   6. 是否与本车碰撞的判断
3. 两两agent进行碰撞检测

# fusion
由于融合可视化软件需要读取不同时期录制的rosbag，且软件不依赖于ros，未使用ros提供的解析头文件（roscpp提供的解析方法需要消息结构体的头文件，然而我们代码仓库里的消息结构体动态变化的，改变后的结构体不能用于解析旧的bag包）
将目录中的rosbag文件解析后生成读取该类bag的方法，融合可视化软件会调用方法析这个文件夹中的所有bag文件

# carmaker
通过共享内存进行数据交互，通过IPC与规划算法模块进行通信，共享内存速度快且不用引入pb，其分为两部分，规划模块的输入和carmaker软件的输出，相当于一个环形消息流通，规划输入控制车辆的油门、刹车和转向，carmaker输出更新本车消息、传感器数据等。