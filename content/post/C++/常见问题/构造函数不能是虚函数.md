---
title: "构造函数不能是虚函数"
date: 2021-04-13T10:22:23+08:00
categories:
- C++
- 常见问题
tags:
- 构造函数
keywords:
- tech
#thumbnailImage: //example.com/image.jpg
---
　　虚表指针和多态两个角度说明
<!--more-->
1. 虚函数是通过虚函数表来查找的，而虚函数表由类的实例化对象的`vptr`指针指向，该指针存放在对象的内部空间，需要构造函数完成初始化，如果构造函数是虚函数，那么调用构造函数去需要`vptr`，而此时`vptr`还没有初始化
2. 虚函数是在运行时确定调用对象的类型，根据传入对象的类型来调用函数，通过指针调用，而构造函数是创建对象时自己调用的，不可能通过指针调用
