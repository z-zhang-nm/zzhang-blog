---
title: "004 对象的构造和析构"
date: 2020-07-07T12:42:15+08:00
categories:
- C++视频课程
tags:
- 对象的构造和析构
keywords:
- tech
#thumbnailImage: //example.com/image.jpg
---

<!--more-->
## 1 构造函数

　　创建类的对象时，常常需要做一些初始化工作，C++提供了构造函数来进行这一工作，它是一种特殊的成员函数，不需要用户来调用它，其在创建对象时自动执行。

### 1.1 定义与调用

1. 函数名与类名相同且可以有参数
2. 没有任何返回类型的声明
3. 一般情况下C++编译器会自动调用构造函数，某些情况下也需要手动调用

### 1.2 构造函数的分类

1. 无参数构造函数，创建对象时只写变量名会调用`类A a`，注意变量名后不用写括号
2. 有参数构造函数
3. 拷贝(赋值)构造函数`类A(const 类A& obj) {}`

> 调用有参数构造函数的三种方法  
> `Test(int a, int b) {}`
> 1. 括号法`Test t1(1,2)`，自动调用
> 2. 等号法`Test t2 = (3,4,5,6)`，c++对等号符功能增强，会调用只有一个参数的构造函数，参数传递逗号表达式最后一个元素（逗号表达式最后一个值为整个表达式的值）
> 3. 直接调用构造函数`Test t3 = Test(1,2)`，手动调用，会产生一个匿名对象

## 2 析构函数

　　进行一些垃圾回收工作。

### 2.1 定义与调用

1. 函数名与类名相同，且函数名前面加一个波浪号
2. 用来清理对象的特殊成员函数
3. 没有参数也没有任何返回类型的声明
4. 对象销毁时自动调用
5. 析构时先构造的对象后释放
