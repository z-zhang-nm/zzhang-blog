---
title: "096 ä¸åŒçš„äºŒå‰æœç´¢æ ‘"
date: 2020-10-21T09:43:23+08:00
categories:
- Leetcode
tags:
- æ ‘
- åŠ¨æ€è§„åˆ’
keywords:
- tech
#thumbnailImage: //example.com/image.jpg
---
[é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/unique-binary-search-trees/)
<!--more-->
## é¢˜ç›®
ã€€ã€€ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œæ±‚ä»¥ 1 ... n ä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘æœ‰å¤šå°‘ç§ï¼Ÿ

ã€€ã€€ç¤ºä¾‹ï¼š
```
è¾“å…¥: 3
è¾“å‡º: 5
è§£é‡Š:
ç»™å®š n = 3, ä¸€å…±æœ‰ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘:

   1         3     3      2      1
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3
```

## é¢˜è§£ä¸€
ã€€ã€€å¸¦è®°å¿†æ•°ç»„çš„é€’å½’å¯è§£ã€‚

```cpp
int numTrees(int n) {
    vector<vector<int>> memo(n, vector<int>(n, 0));
    return helper(1,n, memo);
}
int helper(int start, int end, vector<vector<int>>& memo){
    if(start > end) return 0;
    if(start == end) return 1;
    if(memo[start-1][end-1]) return memo[start-1][end-1];
    int ret = 0;
    for(int i = start; i <= end; ++i){
        int left_cnt = helper(start, i-1, memo);
        int right_cnt = helper(i+1, end, memo);
        ret += (left_cnt == 0 ? 1 : left_cnt)*(right_cnt == 0 ? 1 : right_cnt);
    }
    memo[start-1][end-1] = ret;
    return ret;
}
```

## é¢˜è§£äºŒ
ã€€ã€€**å¡å¡”å…°æ•°**
ã€€ã€€å½“ n = 1 çš„æƒ…å†µï¼Œåªèƒ½å½¢æˆå”¯ä¸€çš„ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œnåˆ†åˆ«ä¸º 1,2,3 çš„æƒ…å†µå¦‚ä¸‹æ‰€ç¤ºï¼š
```
                    1                        n = 1

                2        1                   n = 2
               /          \
              1            2

   1         3     3      2      1           n = 3
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3
```

ã€€ã€€æŠŠn = 0æ—¶èµ‹ä¸º1ï¼Œå› ä¸ºç©ºæ ‘ä¹Ÿç®—ä¸€ç§äºŒå‰æœç´¢æ ‘ï¼Œé‚£ä¹ˆ n = 2 æ—¶ï¼Œç”±äº1å’Œ2éƒ½å¯ä»¥ä¸ºæ ¹ï¼Œåˆ†åˆ«ç®—å‡ºæ¥ï¼Œå†æŠŠå®ƒä»¬åŠ èµ·æ¥å³å¯ï¼Œn = 2 çš„æƒ…å†µå¯ç”±ä¸‹é¢å¼å­ç®—å‡ºï¼ˆè¿™é‡Œçš„ dp[i] è¡¨ç¤ºå½“æœ‰iä¸ªæ•°å­—èƒ½ç»„æˆçš„ BST çš„ä¸ªæ•°ï¼‰ï¼š
```
dp[2] =  dp[0] * dp[1]ã€€ã€€ã€€(1ä¸ºæ ¹çš„æƒ…å†µï¼Œåˆ™å·¦å­æ ‘ä¸€å®šä¸å­˜åœ¨ï¼Œå³å­æ ‘å¯ä»¥æœ‰ä¸€ä¸ªæ•°å­—)

ã€€ã€€ã€€ã€€+ dp[1] * dp[0]ã€€ã€€  (2ä¸ºæ ¹çš„æƒ…å†µï¼Œåˆ™å·¦å­æ ‘å¯ä»¥æœ‰ä¸€ä¸ªæ•°å­—ï¼Œå³å­æ ‘ä¸€å®šä¸å­˜åœ¨)
```

ã€€ã€€ç”±æ­¤ï¼Œå¯ä»¥å¾—å‡º`â„(ğ‘›)=â„(0)âˆ—â„(ğ‘›âˆ’1)+â„(1)âˆ—â„(ğ‘›âˆ’2)+â„(2)âˆ—â„(ğ‘›âˆ’3)+...+â„(ğ‘›âˆ’1)âˆ—â„(0) (n >= 2)`ã€‚

```cpp
int numTrees(int n) {
    vector<int> dp(n+1);
    dp[0] = 1;
    dp[1] = 1;
    for(int i = 2; i <= n; ++i){
        for(int j = 0; j < i; ++j){
            dp[i] += dp[j] * dp[i-j-1];
        }
    }
    return dp[n];
}
```